<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>用户注册</title>
	<link rel="stylesheet" href="../styles/register.css">
	<script src="../js/jquery.js"></script>
	<style>
		li:last-child {
			justify-content: center;
		}
	</style>
</head>

<body>
	<div class="register">
		<form id="ajaxForm">
			<ul>
				<li>
					<label for="">用户名</label>
					<input type="text" name="username" class="name">
				</li>
				<li>
					<label for="">密码</label>
					<input type="password" name="password" class="pass">
				</li>
				<li>
					<label for=""></label>
					<input type="button" class="submit " value="登录">
				</li>
				<li><a href="./register.html">去注册</a></li>
			</ul>
		</form>
	</div>
	<script>
		$(function () {
			$('.submit').on('click', function () {
				if (!$('.name').val().trim() || !$('.pass').val().trim()) return;

				$.ajax({
					type: 'post',
					url: '/login',
					data: $('#ajaxForm').serialize(),
					dataType: 'json',
					success: res => {
						alert(res.msg);
						if (res.code == 200) {
							location.href = `./index`;
						}
					}
				})
			})
		});
	</script>
</body>

</html>